"use strict";console.log("hello app JS front side"),function(){var t=function(e,n,t,o){try{var r=new XMLHttpRequest;if(r.open(n,e),r.setRequestHeader("Content-Type","application/json"),o=o?JSON.stringify(o):null,"post"===n.toLowerCase()&&!o)throw new Error("bad call");r.onload=function(e){return t(e.target.response||e.srcElement.response)},r.send(o)}catch(e){console.log(e)}},o=function(){t("http://localhost:8082/api/v1/produit","GET",function(e){n(JSON.parse(e))})},n=function(e){console.log(e),e.forEach(function(e){console.log(e);var n=document.getElementById("tbodyproduits").insertRow(),t=n.insertCell(0);t.innerHTML=e.nom,t.contentEditable="true";var o=n.insertCell(1);o.innerHTML=e.marque,o.contentEditable="true";var r=n.insertCell(2);r.innerHTML=e.prix,r.contentEditable="true";var i=n.insertCell(3);i.innerHTML=e.description,i.contentEditable="true",n.insertCell(4).innerHTML="❌"})},r=function(){t("http://localhost:8082/api/v1/marque","GET",function(e){i(JSON.parse(e))})},i=function(e){console.log(e),e.forEach(function(e){console.log(e);var n=document.getElementById("tbodymarques").insertRow(),t=n.insertCell(0);t.innerHTML=e.nom,t.contentEditable="true",n.insertCell(1).innerHTML="❌";var o=document.createElement("img");o.src="/images/icon.png",n.insertCell(2).innerHTML=o})};window.addEventListener("DOMContentLoaded",function(){var e=document.getElementById("btnproduit"),n=document.getElementById("btnmarque");e&&(e.onclick=function(e){e.preventDefault(),t("http://localhost:8082/api/v1/produit","POST",function(e){},{nom:document.getElementById("nomproduit").value,prix:document.getElementById("prixproduit").value,description:document.getElementById("description").value}),o()}),n&&(n.onclick=function(e){e.preventDefault(),t("http://localhost:8082/api/v1/marque","POST",function(e){},{nom:document.getElementById("nommarque").value}),r()}),o(),r()})}();